<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sunstar.mapper.CSMapper">
	<select id="noticelist" resultType="com.sunstar.dto.NoticeDTO">
		select notice_no, notice_category, notice_title, notice_content, notice_date
		from notice
		order by notice_no desc
	</select>
	
	<insert id="noticeadd" parameterType="com.sunstar.dto.NoticeDTO">
	<selectKey resultType="String" keyProperty="notice_no"
			order="BEFORE">
			select Max(notice_no)+1 from notice
	</selectKey>
	insert into notice(notice_no, notice_category, notice_title, notice_content, notice_date) values(#{notice_no}, #{notice_category}, #{notice_title}, #{notice_content}, now())
	</insert>
	
	
	<insert id="inquiryadd" parameterType="com.sunstar.dto.MailDTO">
	<selectKey resultType="String" keyProperty="no"
			order="BEFORE">
			select Max(no)+1 from mails
	</selectKey>
	insert into mails(no, email, category, title, content, id, order_code, date) values(#{no}, #{email}, #{category}, #{title}, #{content},  #{id}, #{order_code}, now())
	</insert>
	
	<select id="inquirylist" parameterType="String" resultType="com.sunstar.dto.MailDTO">
	select no, id, title, content, date, order_code, category
	from mails
	where id=#{id}
	</select>
</mapper>